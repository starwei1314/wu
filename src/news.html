<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>新闻公告</title>
    <link rel="stylesheet" href="plugin/css/bootstrap.min.css">
    <link rel="stylesheet" media="screen and (max-width:1200px)" href="plugin/css/mobileReset.css">
    <link rel="stylesheet" media="screen and (min-width:1200px)" type="text/css" href="plugin/css/reset.css" />
    <link rel="stylesheet" media="screen and (max-width:1200px)" href="plugin/css/mobileCommon.css">
    <link rel="stylesheet" media="screen and (min-width:1200px)" href="plugin/css/common.css">
    <link rel="stylesheet" href="plugin/css/pagination.css">
    <link rel="stylesheet" href="plugin/fonts/iconfont.css">
    <link rel="stylesheet" media="screen and (max-width:1200px)" type="text/css" href="styles/mobileNews.css" />
    <link rel="stylesheet" media="screen and (min-width:1200px)" type="text/css" href="styles/news.css" />
</head>

<body>
    <div class="header"></div>
    <div class="top-header">
        <a href="Index.html" class="logoA"><img class="pcLogo" src="images/logo.png" alt="">
            <img src="images/logo2.png" class="moveLogo" alt="">
        </a>
        <button class="btn"></button>
    </div>
    <div class="main w">
        <div class="main-nav">
            <p><a href="Index.html"> 首页 </a> / 新闻公告 / <span class="firstmenu">通知公告 </span> / <span class="secondmenu">二级菜单</span></p>
        </div>
        <div class="main-user clearfix">
            <!-- 侧边栏 -->
            <div class="subNavBox fl">
                <h1>新闻中心</h1>
                <div class='tabLan'>
                    <div class="subNav "> <a href="#" data-nid='0'>通知公告</a> </div>
                    <div class="subNav"> <a href="#" data-nid='1'>资源动态</a> </div>
                    <div class="subNav"> <a href="#" data-nid='2'>培训与活动</a> </div>
                    <div class="subNav"> <a href="#" data-nid='3'>珞珈阅读广场</a> </div>
                </div>

            </div>
            <div class="titleContent fl">
                <div class="titleSearch">
                    <div class="search clearfix">
                        <div class="select fl">
                            <!--存放选择的值-->
                            <span class="selectVal" onselectstart="return false">全面搜索</span>
                            <!--放置icon-->
                            <i class="xl-icon"></i>
                            <!--选择项-->
                            <div class="selectList">
                                <div class="listA-all">
                                    <a href="javascript:;" class="listA">全面搜索</a>
                                    <a href="javascript:;" class="listA">通知公告</a>
                                    <a href="javascript:;" class="listA">资源动态</a>
                                    <a href="javascript:;" class="listA">培训与活动</a>
                                    <a href="javascript:;" class="listA">珞珈阅读广场</a>
                                </div>
                            </div>
                        </div>
                        <div class="search_box fl"><i class="iconfont icon-sousuo"></i><input type="text" placeholder="请输入关键词"><span> 查询</span></div>
                    </div>
                </div>
                <div class="titleList">
                    <div class="list_top">新闻中心</div>
                    <div class="list_body">
                        <ul>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                            <li><a href="newsDetail.html"> 揭晓丨你的专属毕业纪念册，快来领取<span>2019/07/07</span></a></li>
                        </ul>
                    </div>
                    <div class="list_foot">
                        <div id="pagination" class="pagination"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer visible-lg"></div>
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="plugin/js/pagination.js"></script>
    <script src="js/common.js"></script>
    <script id='jsCode'>
        $(function() {
            $(document).ready(function() {
                //jquery load方法加载公共头部
                $(".header").load("header.html", function() { //加载完成后设置高亮
                    $("#navigation_3").addClass("activing").siblings().removeClass('activing')
                });
                $(".footer").load("footer.html");
            });

            function myFunction(x) {
                // 当页面进来时根据屏幕大小加载js文件并移除不需要的js文件
                if (x.matches) { //大屏时移除
                    removejscssfile("rem.js", "js")
                    removejscssfile("mobileNews.js", "js")
                } else { //小屏时加载
                    loadJs('js/rem.js')
                    loadJs('js/mobileNews.js')
                }
            }
            var x = window.matchMedia("(min-width: 1200px)")
            myFunction(x) // 执行时调用的监听函数
            x.addListener(myFunction) // 状态改变时添加监听器
                //搜索栏运行
                /*----------------------------------
                        点击展开移出区域隐藏列表
                  ----------------------------------*/
                //外层select框
            var word;
            var cateType = '';
            var oDropDown = $('.select');
            //选择列表项
            var oChangeA = $('.listA');
            oDropDown.click(function() {
                $(this).find('.selectList').toggle().siblings('.xl-icon').toggleClass('sq-icon');
            });

            oDropDown.mouseleave(function() {
                $(this).find('.selectList').hide().siblings('.xl-icon').removeClass('sq-icon');
            });

            oChangeA.click(function() {
                var oVal = $(this).text();
                if (oVal == '全面搜索') {
                    cateType = ''
                } else {
                    cateType = oVal
                }
                $(this).parents('.listA-all').parents('.selectList').siblings('.selectVal').text(oVal).siblings('.xl-icon').toggleClass('sq-icon');

            });
            //侧边栏运行发送ajax请求，获取数据展示
            $(".subNav").click(function() {
                var nid = $(this).children('a').attr('data-nid')
                $(".list_top").text($(this).text())
                $(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd")
                $(".list_body > ul>li>a").attr("href", 'newsDetail.html?nid=' + nid)
            })

            $(".search_box span").click(function() {
                    //查询功能
                    word = $('.search_box input').val()
                    console.log(word, cateType)
                    $.ajax({
                        url: '',
                        type: 'get',
                    })
                })
                //翻页功能,初始化翻页插件
            new Page({
                id: 'pagination',
                pageTotal: Math.ceil(20 / 10) || 1,
                //必填,总页数
                pageAmount: 10,
                //每页多少条
                dataTotal: 20,
                //总共多少条数据
                curPage: 1,
                //初始页码,不填默认为1
                pageSize: Math.ceil(20 / 10) || 1,
                //分页个数,不填默认为5
                showPageTotalFlag: false,
                //是否显示数据统计,不填默认不显示
                showSkipInputFlag: false,
                //是否支持跳转,不填默认不显示
                getPage: function getPage(page) {
                    //获取当前页数,并发送请求
                    console.log($(this))
                    $(this)[0].curPage = page
                    console.log($(this)[0].curPage)
                }
            });

        })
    </script>
</body>

</html>
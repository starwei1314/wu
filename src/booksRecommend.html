<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>阅读推荐</title>
    <link rel="stylesheet" href="plugin/css/bootstrap.min.css">
    <link rel="stylesheet" media="screen and (max-width:1199px)" href="plugin/css/mobileReset.css">
    <link rel="stylesheet" media="screen and (min-width:1200px)" type="text/css" href="plugin/css/reset.css" />
    <link rel="stylesheet" media="screen and (max-width:1199px)" href="plugin/css/mobileCommon.css">
    <link rel="stylesheet" media="screen and (min-width:1200px)" href="plugin/css/common.css">
    <link rel="stylesheet" href="plugin/css/pagination.css">
    <link rel="stylesheet" href="plugin/fonts/iconfont.css">
    <link rel="stylesheet" media="screen and (max-width:1199px)" type="text/css" href="styles/mobileBooksRecommend.css" />
    <link rel="stylesheet" media="screen and (min-width:1200px)" type="text/css" href="styles/booksRecommend.css" />
    <script src="plugin/fonts/iconfont.js"></script>
    <style>
        .icon {
            width: 1em;
            height: 1em;
            vertical-align: -0.15em;
            fill: currentColor;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="header "></div>
    <div class="top-header">
        <a href="Index.html" class="logoA"><img class="pcLogo" src="images/logo.png" alt="">
            <img src="images/logo2.png" class="moveLogo" alt="">
        </a>
        <button class="btn"></button>
    </div>
    <div class="main w">
        <div class="main-nav">
            <p><a href="Index.html"> 首页 </a> / <a href="#">阅读推荐</a> </p>
        </div>
        <div class="main-user clearfix">
            <!-- 侧边栏 -->
            <div class="subNavBox fl">
                <h1>阅读推荐</h1>
                <ul class="tabSide">
                    <li class="subNav currentDd" data-nid='0'> <a href="#">阅读推荐</a> </li>
                    <ul class="navContent ">
                        <li><a href="#" data-sid="0">新生推荐</a></li>
                        <li><a href="#" data-sid="1">推荐书目</a></li>
                    </ul>
                    <li class="subNav" data-nid='1'> <a href="#">十大借阅之星</a> </li>
                    <ul class="navContent ">

                    </ul>
                    <li class="subNav" data-nid='2'> <a href="#">真人书单</a> </li>
                    <ul class="navContent ">

                    </ul>
                </ul>
            </div>
            <div class="titleContent fl">
                <div class="titleList">
                    <div class="list_body">
                        <ul>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice" title="钟灵汉绣 不走寻常路的非遗传人">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                            <li>
                                <a href="#"> <img src="./images/books/book (1).png" alt="">
                                    <p class="periodical">第49期</p>
                                    <p class="artice">钟灵汉绣 不走寻常路的非遗传人</p>
                                </a>
                            </li>
                        </ul>

                    </div>
                    <div class="list_foot">
                        <div id="pagination" class="pagination"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer visible-lg"></div>
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="plugin/js/pagination.js"></script>
    <script src="js/common.js"></script>
    <script id='jsCode'>
        $(function() {
            $(document).ready(function() {
                //jquery load方法加载公共头部
                $(".header").load("header.html", function() {
                    function myFunction(x) {
                        // 当页面进来时根据屏幕大小加载js文件并移除不需要的js文件
                        if (x.matches) { //大屏时移除
                            removejscssfile("rem.js", "js")
                            removejscssfile("mobileNewsDetail.js", "js")
                            removejscssfile("mobileHead.js", "js")
                            loadJs('js/head.js')
                        } else { //小屏时加载
                            removejscssfile("head.js", "js")
                            loadJs('js/mobileHead.js')
                            loadJs('js/rem.js')
                            loadJs('js/mobileNewsDetail.js')
                        }
                    }
                    var x = window.matchMedia("(min-width: 1200px)")
                    myFunction(x) // 执行时调用的监听函数
                    x.addListener(myFunction) // 状态改变时添加监听器
                });
                $(".footer").load("footer.html");
            });


            //页面初次进入获取url上的地址

            var subList = $('.subNav')
            for (var i = 0; i < subList.length; i++) {
                if ($(subList[i]).attr('data-nid') == GetQueryString('id')) {
                    $(subList[i]).addClass('currentDd')
                }
            }
            //侧边栏运行
            $(".subNav").click(function() {
                    $(".list_top").text($(this).text())
                    $(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd")
                })
                // 重置侧边栏禁止点击状态
            var navList = $('.navContent')
            for (var i = 0; i < navList.length; i++) {
                if (navList.eq(i).children().length == 0) {
                    $(".subNav").eq(i).addClass("noneContent")
                }
            }

            //禁止结束
            $(".subNav").off().on('click', function() {

                $(".list_top").text($(this).text())
                    // $(this).toggleClass("currentDd").siblings(".subNav").removeClass("currentDd")取消父级菜单的高亮显示
                $(this).toggleClass("currentDt").siblings(".subNav").removeClass("currentDt")
                if (!$(this).hasClass('noneContent')) {
                    $(this).next(".navContent").slideToggle(300).siblings(".navContent").slideUp(500)
                } else {
                    fid = $(this).attr('data-fid') //没有子选项时页面需要跳转携带
                    window.location.href = "booksRecommend.html?id=" + fid
                }
            })
            $(".navContent").off().on("click", "li", function() {
                    sid = $(this).children("a").attr("data-sid")
                    fid = $(this).parent().prev(".subNav").attr('data-fid')
                        // 由于后台使用递归，则不需要增加点击样式
                        // $(this).toggleClass("currentDd").siblings().removeClass("currentDd")
                    $(this).parent().siblings().children().removeClass("currentDd")
                    $(this).children('a').attr("href", 'booksRecommend.html?id=' + fid + "&sid=" + sid)
                })
                //翻页功能,初始化翻页插件
            new Page({
                id: 'pagination',
                pageTotal: Math.ceil(20 / 10) || 1,
                //必填,总页数
                pageAmount: 10,
                //每页多少条
                dataTotal: 20,
                //总共多少条数据
                curPage: 1,
                //初始页码,不填默认为1
                pageSize: Math.ceil(20 / 10) || 1,
                //分页个数,不填默认为5
                showPageTotalFlag: false,
                //是否显示数据统计,不填默认不显示
                showSkipInputFlag: false,
                //是否支持跳转,不填默认不显示
                getPage: function getPage(page) {
                    //获取当前页数,并发送请求
                    console.log($(this))
                    $(this)[0].curPage = page
                    console.log($(this)[0].curPage)
                }
            });
        })
    </script>
</body>

</html>